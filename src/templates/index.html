<%
  var settings = require("ep_etherpad-lite/node/utils/Settings");
%>
<!doctype html>
<html>

        <title><%=settings.title%></title>
    <script>
      /*
      |@licstart  The following is the entire license notice for the
      JavaScript code in this page.|

      Copyright 2011 Peter Martischka, Primary Technology.

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

         http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.

      |@licend  The above is the entire license notice
      for the JavaScript code in this page.|
      */
    </script>

        <meta charset="utf-8">
        <meta name="referrer" content="no-referrer">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
        <link rel="shortcut icon" href="<%=settings.favicon%>">

        <link rel="localizations" type="application/l10n+json" href="locales.json">
        <script type="text/javascript" src="static/js/html10n.js?v=<%=settings.randomVersionString%>"></script>
        <script type="text/javascript" src="static/js/l10n.js?v=<%=settings.randomVersionString%>"></script>

        <style>
            html, body {
              height: 100%;
            }
            body {
              margin: 0;
              color: #333;
              font: 14px helvetica, sans-serif;
              background: #ddd;
              background: -webkit-radial-gradient(circle,#aaa,#eee 60%) center fixed;
              background: -moz-radial-gradient(circle,#aaa,#eee 60%) center fixed;
              background: -ms-radial-gradient(circle,#aaa,#eee 60%) center fixed;
              background: -o-radial-gradient(circle,#aaa,#eee 60%) center fixed;
              border-top: 8px solid rgba(51,51,51,.8);
            }
            #wrapper {
              border-top: 1px solid #999;
              margin-top: 160px;
              padding: 15px;
              background: #eee;
              background: -webkit-linear-gradient(#fff,#ccc);
              background: -moz-linear-gradient(#fff,#ccc);
              background: -ms-linear-gradient(#fff,#ccc);
              background: -o-linear-gradient(#fff,#ccc);
              box-shadow: 0px 1px 8px rgba(0,0,0,0.3);
            }
            #inner {
              position:relative;
              max-width: 300px;
              margin: 20px auto 5px;
            }
            #button {
              margin: 0 auto;
              text-align: center;
              font: 36px verdana,arial,sans-serif;
              width:300px;
              border:none;
              color: white;
              text-shadow: 0 -1px 0 rgba(0,0,0,.8);
              height: 70px;
              line-height: 70px;
              background: #555;
              background: -webkit-linear-gradient(#5F5F5F,#565656 50%,#4C4C4C 51%,#373737);
              background: -moz-linear-gradient(#5F5F5F,#565656 50%,#4C4C4C 51%,#373737);
              background: -ms-linear-gradient(#5F5F5F,#565656 50%,#4C4C4C 51%,#373737);
              background: -o-linear-gradient(#5F5F5F,#565656 50%,#4C4C4C 51%,#373737);
              box-shadow: inset 0 1px 3px rgba(0,0,0,0.9);
            }
            #button:hover {
              cursor: pointer;
              background: #666;
              background: -webkit-linear-gradient(#707070,#666666 50%,#5B5B5B 51%,#474747);
              background: -moz-linear-gradient(#707070,#666666 50%,#5B5B5B 51%,#474747);
              background: -ms-linear-gradient(#707070,#666666 50%,#5B5B5B 51%,#474747);
              background: -o-linear-gradient(#707070,#666666 50%,#5B5B5B 51%,#474747);
            }
            #button:active {
              box-shadow: inset 0 1px 12px rgba(0,0,0,0.9);
              background: #444;
            }
            #label {
              text-align: left;
              text-shadow: 0 1px 1px #fff;
              margin: 16px auto 0;
              display:block;
            }
            #padname{
              height:38px;
            }
            form {
              height: 38px;
              background: #fff;
              border: 1px solid #bbb;
              border-radius: 3px;
              position: relative;
              text-align: left;
            }
            button, input {
              font-weight: bold;
              font-size: 15px;
            }
            input[type="text"] {
              border-radius: 3px;
              box-sizing: border-box;
              -moz-box-sizing: border-box;
              line-height:36px; /* IE8 hack */
              padding: 0px 45px 0 10px;
              *padding: 0; /* IE7 hack */
              width: 100%;
              height: 100%;
              outline: none;
              border: none;
              position: absolute;
            }
            button[type="submit"] {
              position: absolute;
              right: 0px;
              width: 45px;
              height: 38px;
            }
            @media only screen and (min-device-width: 320px) and (max-device-width: 800px) {
              body {
                background: #bbb;
                background: -webkit-linear-gradient(#aaa,#eee 60%) center fixed;
                background: -moz-linear-gradient(#aaa,#eee 60%) center fixed;
                background: -ms-linear-gradient(#aaa,#eee 60%) center fixed;
              }
              #wrapper {
                margin-top: 0;
              }
              #inner {
                width: 95%;
              }
              #label {
                text-align: center;
              }
            }
        </style>
        <link href="static/skins/<%=encodeURI(settings.skinName)%>/index.css?v=<%=settings.randomVersionString%>" rel="stylesheet">

        <div id="wrapper">
        <% e.begin_block("indexWrapper"); %>
            <div id="inner">
                <svg version="1.1" id="kits_logo" inkscape:version="0.92.3 (2405546, 2018-03-11)" sodipodi:docname="kits_logo.svg" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="234.107px" height="122.289px" viewBox="0 0 234.107 122.289" enable-background="new 0 0 234.107 122.289" xml:space="preserve">
                    <sodipodi:namedview id="base" inkscape:guide-bbox="true" inkscape:window-y="-8" inkscape:window-x="-8" inkscape:window-height="1027" inkscape:window-width="1920" inkscape:current-layer="g35" inkscape:document-units="mm" inkscape:pageshadow="2" inkscape:pageopacity="0.0" inkscape:cy="115.46779" showguides="true" inkscape:cx="291.13637" inkscape:zoom="9.7896959" borderopacity="1.0" bordercolor="#666666" showgrid="false" pagecolor="#ffffff" inkscape:window-maximized="1">
                        <sodipodi:guide id="guide1435" inkscape:locked="false" orientation="1,0" position="67.207347,4.2239254"></sodipodi:guide>
                    </sodipodi:namedview>
                    <g id="layer2" transform="translate(17.987022,2.4044625)" inkscape:groupmode="layer" inkscape:label="Ebene 2">
                        <g id="g35" transform="matrix(4.0529229,0,0,4.0529229,-223.55328,-470.63108)">
                            <g id="flowRoot15" transform="matrix(0.26458333,0,0,0.26458333,108.88172,85.529972)">
                                <path id="path841" fill="#FFFFFF" d="M-204.456,223.278h-9.91v-79.603l9.91-1.185V223.278z M-192.715,191.609l23.267,31.669
                            h-11.849l-22.513-31.024l20.897-25.744h11.094L-192.715,191.609z"></path>
                                <path id="path843" fill="#FFFFFF" d="M-154.609,139.258c2.082,0,3.77,0.646,5.063,1.938c1.292,1.293,1.939,2.909,1.939,4.848
                            s-0.647,3.554-1.939,4.847c-1.293,1.221-2.981,1.831-5.063,1.831c-2.011,0-3.662-0.611-4.955-1.831
                            c-1.293-1.293-1.939-2.908-1.939-4.847s0.646-3.554,1.939-4.848C-158.271,139.905-156.62,139.258-154.609,139.258z
                             M-149.546,223.278h-9.91v-56.767h9.91V223.278z"></path>
                                <path id="path845" fill="#FFFFFF" d="M-100.815,220.693c-3.735,2.585-7.972,3.878-12.711,3.878c-4.811,0-8.581-1.365-11.31-4.094
                            c-2.657-2.799-3.986-6.821-3.986-12.063v-34.255h-9.91v-7.648h9.91v-12.818l9.91-1.185v14.003h13.465l-1.077,7.648h-12.387
                            v33.824c0,2.943,0.503,5.098,1.508,6.462c1.077,1.292,2.837,1.939,5.278,1.939c2.227,0,4.738-0.753,7.54-2.262L-100.815,220.693z
                            "></path>
                                <path id="path847" fill="#FFFFFF" d="M-75.145,165.218c3.879,0,7.361,0.539,10.449,1.616c3.088,1.077,6.032,2.693,8.834,4.848
                            l-4.202,6.246c-2.585-1.65-5.063-2.872-7.433-3.661c-2.298-0.79-4.739-1.185-7.325-1.185c-3.231,0-5.781,0.681-7.648,2.046
                            c-1.867,1.293-2.799,3.087-2.799,5.386c0,2.298,0.862,4.093,2.585,5.386c1.794,1.292,4.99,2.548,9.586,3.77
                            c6.319,1.58,11.024,3.734,14.11,6.462c3.161,2.729,4.74,6.463,4.74,11.202c0,5.602-2.189,9.875-6.571,12.819
                            c-4.308,2.944-9.587,4.417-15.834,4.417c-8.617,0-15.763-2.478-21.436-7.434l5.278-6.031c4.811,3.663,10.126,5.494,15.942,5.494
                            c3.735,0,6.679-0.755,8.833-2.262c2.227-1.579,3.339-3.698,3.339-6.355c0-1.94-0.394-3.483-1.185-4.633
                            c-0.79-1.22-2.155-2.261-4.094-3.123c-1.939-0.934-4.775-1.903-8.509-2.909c-6.031-1.58-10.412-3.698-13.141-6.356
                            c-2.657-2.657-3.986-6.031-3.986-10.126c0-2.944,0.862-5.601,2.585-7.97c1.796-2.442,4.237-4.309,7.325-5.602
                            C-82.541,165.9-79.023,165.218-75.145,165.218L-75.145,165.218z"></path>
                            </g>
                            <polygon id="polygon2" fill="#00A3D3" points="96.983,116.306 99.402,118.724 101.92,121.242 106.856,116.306      "></polygon>
                            <polygon id="polygon4" fill="#00A3D3" points="107.02,116.47 102.083,121.406 104.61,123.932 107.02,126.342       "></polygon>
                            <rect id="rect6" x="100.191" y="122.286" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -57.8396 108.3909)" fill="#00A3D3" width="3.457" height="3.457"></rect>
                            <polygon id="polygon8" fill="#00A3D3" points="106.856,126.506 104.528,124.178 102.199,126.506       "></polygon>
                            <polygon id="polygon10" fill="#00A3D3" points="101.64,126.506 99.23,124.096 96.819,121.686 96.819,126.506       "></polygon>
                            <polygon id="polygon12" fill="#00A3D3" points="96.819,121.358 99.204,123.742 99.204,118.854 96.819,116.47       "></polygon>
                            <polygon id="polygon8-6" fill="#00A3D3" points="96.819,130.044 100.112,126.752 96.819,126.752       "></polygon>
                        </g>
                    </g>
                </svg>
                <button id="button" onclick="go2Random()" data-l10n-id="index.newPad"></button>
                <label id="label" for="padname" data-l10n-id="index.createOpenPad"></label>
                <form action="#" onsubmit="go2Name();return false;">
                    <input type="text" id="padname" maxlength="50" autofocus x-webkit-speech>
                    <button type="submit">OK</button>
                </form>
            </div>
        <% e.end_block(); %>
        </div>

        <script src="static/skins/<%=encodeURI(settings.skinName)%>/index.js?v=<%=settings.randomVersionString%>"></script>
        <script>
            // @license magnet:?xt=urn:btih:8e4f440f4c65981c5bf93c76d35135ba5064d8b7&dn=apache-2.0.txt
            function go2Name()
            {
                var padname = document.getElementById("padname").value;
                padname.length > 0 ? window.location = "p/" + encodeURIComponent(padname.trim()) : alert("Please enter a name")
            }

            function go2Random()
            {
                window.location = "p/" + randomPadName();
            }

            function randomPadName()
            {
                // the number of distinct chars (64) is chosen to ensure that
                // the selection will be uniform when using the PRNG below
                var chars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";
                // the length of the pad name is chosen to get 120-bit security:
                // log2(64^20) = 120
                var string_length = 20;
                // make room for 8-bit integer values that span from 0 to 255.
                var randomarray = new Uint8Array(string_length);
                // use browser's PRNG to generate a "unique" sequence
                var cryptoObj = window.crypto || window.msCrypto; // for IE 11
                cryptoObj.getRandomValues(randomarray);
                var randomstring = '';
                for (var i = 0; i < string_length; i++)
                {
                    // instead of writing "Math.floor(randomarray[i]/256*64)"
                    // we can save some cycles.
                    var rnum = Math.floor(randomarray[i]/4);
                    randomstring += chars.substring(rnum, rnum + 1);
                }
                return randomstring;
            }

            // start the custom js
            if (typeof customStart == "function") customStart();
            // @license-end
        </script>
        <div style="display:none"><a href="/javascript" data-jslicense="1">JavaScript license information</a></div>
</html>
